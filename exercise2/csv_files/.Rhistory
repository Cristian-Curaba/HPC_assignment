library(dplyr)
library(lattice)
setwd("~/Desktop/Units/HPC/My_assignment/Assignment_HPC/exercise2/csv_files")
df13=read.csv("1_double_oblas_thin_new_all.csv", header = FALSE)
colnames(df13) <-c('type_data', 'time', 'dimension', 'GFlops')
df13=read.csv("1_double_oblas_thin_new_all.csv", header = FALSE)
setwd("~/Desktop/Units/HPC/My_assignment/Assignment_HPC/exercise2/csv_files")
df13=read.csv("1_double_oblas_thin_new_all.csv", header = FALSE)
df13=read.csv("1_float_oblas_thin_new_all.csv", header = FALSE)
colnames(df13) <-c('type_data', 'time', 'dimension', 'GFlops')
N<-length(df13[,1])/3
t13=c()
f13=c()
for (i in 1:N){
auxdf<-dplyr::filter(df13, dimension==2000*i)
t13[i]<-mean(auxdf$time)
f13[i]<-mean(auxdf$GFlops)
}
xyplot(f13+f14~x4,main="Float, Thin, Default policy" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
df14=read.csv("1_float_mkl_thin_new_all.csv", header = FALSE)
colnames(df14) <-c('type_data', 'time', 'dimension', 'GFlops')
N<-length(df14[,1])/3
t14=c()
f14=c()
for (i in 1:N){
auxdf<-dplyr::filter(df14, dimension==2000*i)
t14[i]<-mean(auxdf$time)
f14[i]<-mean(auxdf$GFlops)
}
xyplot(f13+f14~x4,main="Float, Thin, Default policy" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
x4=seq(2000, 22000, 2000)
xyplot(f13+f14~x4,main="Float, Thin, Default policy" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(f13+f14~x4,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
x7<-seq(0,20000,2000)
xyplot(f13+f14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
x7<-seq(2000,20000,2000)
x7<-seq(2000,20000,2000)
xyplot(f13+f14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(t13+t14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Time (s)",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(f9o+f10o+f11o+f12o~x5o, main="Double, Epyc, Oblas" ,
fill = c("blue", "pink", "green", "orange"),
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("cores-spread","cores-true", "sockets-master", "sockets-spread"),
points=TRUE, col=c(1,2)))
12*3.7*64
12*3.7*32
12*2.6*64
12*3.3*64
xyplot(f14+f13~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(t14+t13~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Time (s)",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(f14+f13~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
df13=read.csv("1_float_mkl_thin_new_all.csv", header = FALSE)
colnames(df13) <-c('type_data', 'time', 'dimension', 'GFlops')
N<-length(df13[,1])/3
t13=c()
f13=c()
for (i in 1:N){
auxdf<-dplyr::filter(df13, dimension==2000*i)
t13[i]<-mean(auxdf$time)
f13[i]<-mean(auxdf$GFlops)
}
df14=read.csv("1_float_oblas_thin_new_all.csv", header = FALSE)
colnames(df14) <-c('type_data', 'time', 'dimension', 'GFlops')
N<-length(df14[,1])/3
t14=c()
f14=c()
for (i in 1:N){
auxdf<-dplyr::filter(df14, dimension==2000*i)
t14[i]<-mean(auxdf$time)
f14[i]<-mean(auxdf$GFlops)
}
xyplot(f13+f14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(t13+t14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Time (s)",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(f13+f14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Gflops",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
xyplot(t13+t14~x7,main="Float, Thin, all 24 nodes" ,
xlab="Dimension square matrices", ylab="Time (s)",
auto.key=list(x=0.05,y=0.95, text=c("mkl","oblas"),
points=TRUE, col=c(1,2)))
